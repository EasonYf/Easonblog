"use strict";var f=require("node:module"),v=require("@mdit/plugin-tex"),y=require("upath"),j=typeof document<"u"?document.currentScript:null;const e=f.createRequire(typeof document>"u"?require("url").pathToFileURL(__filename).href:j&&j.src||new URL("index.cjs",document.baseURI).href),h=t=>{try{const{AllPackages:a}=e("mathjax-full/js/input/tex/AllPackages.js"),{TeX:n}=e("mathjax-full/js/input/tex.js"),{CHTML:s}=e("mathjax-full/js/output/chtml.js"),{SVG:u}=e("mathjax-full/js/output/svg.js");return{InputJax:new n({packages:a,...t.tex}),OutputJax:t.output==="chtml"?new s({fontURL:y.dirname(e.resolve("mathjax-full/es5/output/chtml/fonts/woff-v2/MathJax_Zero.woff")),adaptiveCSS:!0,...t.chtml}):new u({fontCache:"none",...t.svg}),enableAssistiveMml:t.a11y!==!1}}catch{return console.error('[@mdit/mathjax] "mathjax-full" is not installed!'),null}},M=(t={})=>{const a=h(t);if(!a)return null;const{OutputJax:n,InputJax:s}=a,{CHTML:u}=e("mathjax-full/js/output/chtml.js"),l=e("mathjax-full/js/adaptors/liteAdaptor.js").liteAdaptor(),r=e("mathjax-full/js/handlers/html.js").RegisterHTMLHandler,o=e("mathjax-full/js/a11y/assistive-mml.js").AssistiveMmlHandler,{mathjax:c}=e("mathjax-full/js/mathjax.js"),i=r(l);t.a11y!==!1&&o(i);const m=()=>{n instanceof u&&n.clearCache()},x=()=>{s.reset()},d=()=>{const p=l.innerHTML(n.styleSheet(c.document("",a)));return m(),p};return{adaptor:l,documentOptions:a,mathFence:t.mathFence??!1,clearStyle:m,reset:x,outputStyle:d}},g=(t,a)=>{const{mathjax:n}=e("mathjax-full/js/mathjax.js"),{adaptor:s,documentOptions:u,mathFence:l=!1}=a;t.use(v.tex,{mathFence:l,render:(r,o)=>{const c=n.document(r,u).convert(r,{display:o});return s.outerHTML(c)}})};exports.createMathjaxInstance=M,exports.getDocumentOptions=h,exports.mathjax=g;
//# sourceMappingURL=index.cjs.map
